<app-nav-bar [userType]="'customer'"> </app-nav-bar>
<app-loader *ngIf="!pageLoaded; else elseBlock"></app-loader>
<ng-template #elseBlock>
  <div class="search">
    <app-select [data]="cities$ | async" [title]="title" (selectedItem)="selectEventHandler($event)" class="inline"></app-select>
    <app-search-bar
      *ngIf="categoryNameList"
      [listData]="categoryNameList"
      (selectedData)="goListPage($event)"
      class="inline"
    ></app-search-bar>
  </div>
  {{ errorMessage ? errorMessage : '' }}
  <mat-card class="mat-elevation-z4">
    <p *ngIf="!servicePresent; else servicePresent">No service Available in this city!</p>
    <ng-template #servicePresent>
      <mat-grid-list cols="4" rowHeight="4:1.5">
        <mat-grid-tile *ngFor="let category of categoryNameList" (click)="goListPage(category)">
          <mat-icon>face</mat-icon>
          {{ category }}
        </mat-grid-tile>
      </mat-grid-list>
    </ng-template>
  </mat-card>

  <div class="services">
    <mat-label>Best Offers</mat-label>

    <div *ngFor="let bestoffer of bestOffers">
      <app-image-card class="inline"></app-image-card>
    </div>
  </div>
</ng-template>

<app-footer></app-footer>
